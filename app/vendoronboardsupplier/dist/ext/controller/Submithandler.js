sap.ui.define(["sap/m/MessageToast","sap/m/library"],function(e,t){"use strict";var s=t.DialogType;return{submit:function(t){e.show("Custom handler invoked.");var i=sap.ui.core.Fragment.createId("dialogid");var a=sap.ui.core.Fragment.createId("labelid");var r=new sap.m.Label(a,{text:"Are you sure you want to submit?"});r.addStyleClass("labeldialogsave");this.oDialog=new sap.m.Dialog(i,{title:"Submit",type:s.Message,content:[r],beginButton:new sap.m.Button({text:"OK",press:async function(e,t){debugger;function s(){var e=Math.random().toString(36).substr(2,9);var t=Date.now().toString(36);var s=t+e;return s}this.oDialog.close();var i=sap.ui.getCore().byId(jQuery("[id$='HboxSupplier']").attr("id"));var a=sap.ui.getCore().byId(jQuery("[id$='parentTable']").attr("id"));var r=[];for(let e=0;e<a.getItems().length;e++){var o=a.mAggregations.items[e].oModels.rowid??null;if(o){var g={id:`${o.oData.rowid}`,Existing_MGSP_PO_Price:`${a.mAggregations.items[e].mAggregations.cells[0].mAggregations.items[1].mProperties.value}`,target_price:`${a.mAggregations.items[e].mAggregations.cells[0].mAggregations.items[2].mProperties.value}`};r.push(g)}else{debugger;break}}var l=[];var n=[];for(let e of i.getItems()){debugger;var u=[];for(let t=0;t<r.length;t++){var m={id_supplier:`${e.oModels.supplier_id?.oData?.supplierid??null}`,value_key:`${a.mAggregations.items[t].oModels.rowid.oData.rowid}`,value:`${e.mAggregations.items[t].mAggregations.cells[0].mProperties?.value??""}`};u.push(m)}for(let t=r.length;t<e.getItems().length;t++){debugger;if(a.getItems()[t].getCells()[0].mAggregations.items){var m={id_supplier:`${e.oModels.supplier_id?.oData?.supplierid??null}`,value_key:`${a.mAggregations.items[t].mAggregations.cells[0].getItems()[1].getValue()}`,value:`${e.mAggregations.items[t].mAggregations.cells[0].mProperties?.value??""}`}}else{var m={id_supplier:`${e.oModels.supplier_id?.oData?.supplierid??null}`,value_key:`${a.mAggregations.items[t].mAggregations.cells[0].mProperties.value}`,value:`${e.mAggregations.items[t].mAggregations.cells[0].mProperties?.value??""}`}}u.push(m)}if(e.oModels?.supplier_id?.oData?.supplierid??null){n.push(u)}else{debugger;u.push({id:`${s()}`,name:`${e.getColumns()[0].getHeader().getItems()[1].getText()}`});l.push(u)}}var d="70ac0c95-4022-4da3-b6e6-4aea987d03f7";let p=this.getModel().bindContext("/onSubmitFunc(...)");var v=JSON.stringify({id:d,status:"submitsecondscreen",partdetails:r,supplier_details_new:l,supplier_details_old:n});p.setParameter("status",v);await p.execute();console.log(l);console.log(n);console.log(r)}.bind(this)}),endButton:new sap.m.Button({text:"Close",press:function(){this.oDialog.close()}.bind(this)})});this.oDialog.open()}}});
//# sourceMappingURL=Submithandler.js.map